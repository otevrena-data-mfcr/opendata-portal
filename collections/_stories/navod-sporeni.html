---
title: "Pohled na stavební a penzijní spoření"
description: V tomto návodu se pokusíme ilustrovat použití otevřených dat publikovaných na našem portálu. Konkrétně půjde o datové sady Vývoj stavebního spoření a Penzijní připojištění a spoření a jejich zpracování bude prezentováno v programovacím jazyce Python. Mimo to se zde pokusíme poukázat na problémy, které se zpracováním dat souvisejí a které se neomezují pouze na tyto dvě datové sady.
type: Návod

format: jupyter

date: 2020-08-23
author: Tomáš Vitvar
author_mail: tomas.vitvar@mfcr.cz

tags:
- Python
- Jupyter

github: https://github.com/otevrena-data-mfcr/opendata-stories/tree/master/navod_sporeni
---


<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Úvod">Úvod<a class="anchor-link" href="#Úvod">¶</a></h2>
    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>V následujících řádcích se pokusíme ilustrovat použití otevřených dat publikovaných na našem portálu. Konkrétně půjde o datové sady <a href="https://opendata.mfcr.cz/topics/stavebni-sporeni.html">Vývoj stavebního spoření</a> a <a href="https://opendata.mfcr.cz/topics/penzijni.html">Penzijní připojištění a spoření</a> a jejich zpracování bude prezentováno v programovacím jazyce Python. Mimo to se zde pokusíme poukázat na problémy, které se zpracováním dat souvisejí a které se neomezují pouze na tyto dvě datové sady.</p>
      <p>Zabývat se budeme především tím, jak se do dat promítly konkrétní události a jaké trendy můžeme vypozorovat. Také budeme zkoumat, zdali spolu tato data nějak souvisí, tedy jestli se sklon k ukládání úspor formou stavebního spoření vyvíjí v čase podobně, jako je tomu u spoření penzijního.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Stavební-spoření">Stavební spoření<a class="anchor-link" href="#Stavební-spoření">¶</a></h2>
    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Nahrajeme data přímo z našeho portálu a podíváme se na jejich strukturu:</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[1]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">stavebni</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"https://opendata.mfcr.cz/exports/stavebni_sporeni/csv"</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">stavebni</span><span class="o">.</span><span class="n">dtypes</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[1]:</div>




        <div class="output_text output_subarea output_execute_result">
          <pre>index                          int64
rok                            int64
ctvrtleti                      int64
nove_smlouvy                   int64
prumerna_cilova_castka       float64
smlouvy_sporeni                int64
statni_podpora                 int64
prumerna_podpora             float64
nasporena_castka               int64
uvery_celkem                   int64
uvery_ss                       int64
uvery_preklenovaci             int64
uvery_castka_celkem            int64
uvery_castka_ss                int64
uvery_castka_preklenovaci      int64
dtype: object</pre>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Z tohoto přehledu, stejně jako ze struktury dat na <a href="https://opendata.mfcr.cz/topics/stavebni-sporeni.html">našem portálu</a>, víme, že každý záznam je identifikován rokem a čtvrtletím. Koukneme se tedy, které jejich kombinace v datové sadě jsou:</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[2]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">stavebni</span><span class="p">[[</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[2]:</div>



        <div class="output_html rendered_html output_subarea output_execute_result">
          <div>
            <style scoped="">
              .dataframe tbody tr th:only-of-type {
                vertical-align: middle;
              }

              .dataframe tbody tr th {
                vertical-align: top;
              }

              .dataframe thead th {
                text-align: right;
              }
            </style>
            <table border="1" class="dataframe">
              <thead>
                <tr style="text-align: right;">
                  <th></th>
                  <th>rok</th>
                  <th>ctvrtleti</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>0</th>
                  <td>1997</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>1</th>
                  <td>1998</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>2</th>
                  <td>1999</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>3</th>
                  <td>2000</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>4</th>
                  <td>2001</td>
                  <td>4</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[3]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">stavebni</span><span class="p">[</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">!=</span><span class="mi">4</span><span class="p">][[</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[3]:</div>



        <div class="output_html rendered_html output_subarea output_execute_result">
          <div>
            <style scoped="">
              .dataframe tbody tr th:only-of-type {
                vertical-align: middle;
              }

              .dataframe tbody tr th {
                vertical-align: top;
              }

              .dataframe thead th {
                text-align: right;
              }
            </style>
            <table border="1" class="dataframe">
              <thead>
                <tr style="text-align: right;">
                  <th></th>
                  <th>rok</th>
                  <th>ctvrtleti</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>11</th>
                  <td>2008</td>
                  <td>1</td>
                </tr>
                <tr>
                  <th>12</th>
                  <td>2008</td>
                  <td>2</td>
                </tr>
                <tr>
                  <th>13</th>
                  <td>2008</td>
                  <td>3</td>
                </tr>
                <tr>
                  <th>15</th>
                  <td>2009</td>
                  <td>1</td>
                </tr>
                <tr>
                  <th>16</th>
                  <td>2009</td>
                  <td>2</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Zde vidíme první možný problém: z datové sady lze extrahovat více časových řad, v tomto případě podle frekvence záznamů. Jelikož jsou záznamy za čtvrtletí dostupná pouze od roku 2008, je třeba pro každé zkoumání zvážit, zdali je důležitější délka časového období, nebo naopak vyšší frekvence záznamů.</p>
      <p>Pokud bychom chtěli data čtvrtletní, je vhodné poznamenat, že pro časovou řadu veličin závisejících na časovém období (tzv. flow variables) je třeba data řádně upravit. To proto, že každý takový záznam značí období mezi začátkem roku a koncem daného čtvrtletí, nikoli období čtvrtletí samotného. Toto platí například pro počty nových smluv. Potřebná transformace lze pak provést třeba takto:</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[4]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">nove_smlouvy_v_obdobi</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">stavebni</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
      <span class="n">nove</span><span class="o">=</span><span class="n">stavebni</span><span class="o">.</span><span class="n">nove_smlouvy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">elif</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="ow">in</span> <span class="n">stavebni</span><span class="p">[</span><span class="n">stavebni</span><span class="p">[</span><span class="s2">"rok"</span><span class="p">]</span><span class="o">==</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="p">:</span>
      <span class="n">nove</span><span class="o">=</span><span class="n">stavebni</span><span class="o">.</span><span class="n">nove_smlouvy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">stavebni</span><span class="o">.</span><span class="n">nove_smlouvy</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
  <span class="k">else</span><span class="p">:</span>
      <span class="n">nove</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">NaN</span>
  <span class="n">nove_smlouvy_v_obdobi</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nove</span><span class="p">)</span>

<span class="n">stavebni</span><span class="p">[</span><span class="s2">"nove_smlouvy_v_obdobi"</span><span class="p">]</span><span class="o">=</span><span class="n">nove_smlouvy_v_obdobi</span>
<span class="n">stavebni</span><span class="p">[[</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">,</span><span class="s2">"nove_smlouvy"</span><span class="p">,</span><span class="s2">"nove_smlouvy_v_obdobi"</span><span class="p">]]</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[4]:</div>



        <div class="output_html rendered_html output_subarea output_execute_result">
          <div>
            <style scoped="">
              .dataframe tbody tr th:only-of-type {
                vertical-align: middle;
              }

              .dataframe tbody tr th {
                vertical-align: top;
              }

              .dataframe thead th {
                text-align: right;
              }
            </style>
            <table border="1" class="dataframe">
              <thead>
                <tr style="text-align: right;">
                  <th></th>
                  <th>rok</th>
                  <th>ctvrtleti</th>
                  <th>nove_smlouvy</th>
                  <th>nove_smlouvy_v_obdobi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>55</th>
                  <td>2019</td>
                  <td>1</td>
                  <td>112759</td>
                  <td>112759.0</td>
                </tr>
                <tr>
                  <th>56</th>
                  <td>2019</td>
                  <td>2</td>
                  <td>204144</td>
                  <td>91385.0</td>
                </tr>
                <tr>
                  <th>57</th>
                  <td>2019</td>
                  <td>3</td>
                  <td>320487</td>
                  <td>116343.0</td>
                </tr>
                <tr>
                  <th>58</th>
                  <td>2019</td>
                  <td>4</td>
                  <td>485176</td>
                  <td>164689.0</td>
                </tr>
                <tr>
                  <th>59</th>
                  <td>2020</td>
                  <td>1</td>
                  <td>120496</td>
                  <td>120496.0</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Jako ukazatel sklonu k úsporám formou stavebního spoření si vybereme právě tento počet nově uzavřených smluv.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[5]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">"dark"</span><span class="p">)</span>
<span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'size'</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="s1">'weight'</span><span class="p">:</span><span class="s1">'normal'</span><span class="p">}</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">'font'</span><span class="p">,</span> <span class="o">**</span><span class="n">font</span><span class="p">)</span>
<span class="n">bars</span><span class="o">=</span><span class="n">stavebni</span><span class="p">[</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">][</span><span class="s2">"nove_smlouvy"</span><span class="p">]</span>
</pre>
        </div>

      </div>
    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[6]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)),</span><span class="n">stavebni</span><span class="p">[</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">][</span><span class="s2">"rok"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)),</span><span class="n">bars</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'#7f5d5f'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>




        <div class="output_png output_subarea ">
          <img src="data:image/png;base64,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
">
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Podíváme-li se na vývoj veličiny v čase, jasně vidíme, jak se projevují jednotlivé události. Jako nejvýraznější se zdá býti schválení zákona č. 423/2003 Sb., který snížil míru státní podpory z 25 % na 15 % ročně a její maximální roční výší ze 4500 Kč na 3000 Kč. Naopak obdobná změna, která přišla v roce 2011 a dále změnila 15 % na nových 10 % a nové maximum nastavila na 2000 Kč, se již v takové míře neprojevila, i když pokles můžeme zaznamenat i tam. Mimo tyto legislativní změny lze v datech dále vysledovat jasný efekt hospodářské krize, jejíž počátek časově odpovídá lokálnímu maximu v roce 2008.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Penzijní-spoření">Penzijní spoření<a class="anchor-link" href="#Penzijní-spoření">¶</a></h2>
    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Zde zvolíme velice podobný postup:</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[7]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">penzijni</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"https://opendata.mfcr.cz/exports/penzijni_sporeni/csv"</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">penzijni</span><span class="o">.</span><span class="n">dtypes</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[7]:</div>




        <div class="output_text output_subarea output_execute_result">
          <pre>index                       int64
rok                         int64
ctvrtleti                   int64
pocet_pp                    int64
pocet_dps                   int64
nove_pp                     int64
nove_dps                    int64
nove_dps_z_pp               int64
se_zamestnavatelem_pp       int64
se_zamestnavatelem_dps      int64
statni_pp                   int64
statni_dps                  int64
ucastniku_pp                int64
ucastniku_dps               int64
prumerny_statni_pp        float64
prumerny_statni_dps       float64
prumerny_ucastniku_pp     float64
prumerny_ucastniku_dps    float64
dtype: object</pre>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[8]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">penzijni</span><span class="p">[[</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[8]:</div>



        <div class="output_html rendered_html output_subarea output_execute_result">
          <div>
            <style scoped="">
              .dataframe tbody tr th:only-of-type {
                vertical-align: middle;
              }

              .dataframe tbody tr th {
                vertical-align: top;
              }

              .dataframe thead th {
                text-align: right;
              }
            </style>
            <table border="1" class="dataframe">
              <thead>
                <tr style="text-align: right;">
                  <th></th>
                  <th>rok</th>
                  <th>ctvrtleti</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>0</th>
                  <td>2000</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>1</th>
                  <td>2001</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>2</th>
                  <td>2002</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>3</th>
                  <td>2003</td>
                  <td>4</td>
                </tr>
                <tr>
                  <th>4</th>
                  <td>2004</td>
                  <td>4</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[9]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">!=</span><span class="mi">4</span><span class="p">][[</span><span class="s2">"rok"</span><span class="p">,</span><span class="s2">"ctvrtleti"</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt output_prompt">Out[9]:</div>



        <div class="output_html rendered_html output_subarea output_execute_result">
          <div>
            <style scoped="">
              .dataframe tbody tr th:only-of-type {
                vertical-align: middle;
              }

              .dataframe tbody tr th {
                vertical-align: top;
              }

              .dataframe thead th {
                text-align: right;
              }
            </style>
            <table border="1" class="dataframe">
              <thead>
                <tr style="text-align: right;">
                  <th></th>
                  <th>rok</th>
                  <th>ctvrtleti</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>8</th>
                  <td>2008</td>
                  <td>1</td>
                </tr>
                <tr>
                  <th>9</th>
                  <td>2008</td>
                  <td>2</td>
                </tr>
                <tr>
                  <th>10</th>
                  <td>2008</td>
                  <td>3</td>
                </tr>
                <tr>
                  <th>12</th>
                  <td>2009</td>
                  <td>1</td>
                </tr>
                <tr>
                  <th>13</th>
                  <td>2009</td>
                  <td>2</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[10]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">penzijni</span><span class="p">[</span><span class="s2">"nove_celkem"</span><span class="p">]</span><span class="o">=</span><span class="n">penzijni</span><span class="o">.</span><span class="n">nove_pp</span><span class="o">+</span><span class="n">penzijni</span><span class="o">.</span><span class="n">nove_dps</span>
<span class="n">bars</span><span class="o">=</span><span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">][</span><span class="s2">"nove_celkem"</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)),</span><span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">][</span><span class="s2">"rok"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)),</span><span class="n">bars</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">'#7f5d5f'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>




        <div class="output_png output_subarea ">
          <img src="data:image/png;base64,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
">
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Stejně jako v předchozím případě se do počtu nových smluv promítla změna legislativy, kdy zanikla možnost uzavírat penzijní připojištění a vzniklo doplňkové penzijní spoření, které je, zjednodušeně řečeno, jeho funkční náhradou. Jak je však patrné z enormního nárůstu smluv v posledním roce, kdy bylo možné penzijní připojištění uzavírat (2012), není náhradou přesnou, a tak prosté napojení těchto dvou časových řad není zcela korektní. Podobně je zde zachycen i vliv zmíněné hospodářské krize v podobě poklesu po roce 2008.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Srovnání">Srovnání<a class="anchor-link" href="#Srovnání">¶</a></h2>
    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Výše zmíněná zjištění nám výrazně znesnadňují srovnání, jelikož se nějak musíme vypořádat s extrémními hodnotami způsobené změnami legislativy, které tyto datové sady značně odlišují. Na jednoduchém srovnání ukážeme, proč je to problém, a jak se výsledky změní, pokud provedeme některé úpravy.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[11]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">barWidth</span><span class="o">=</span><span class="mf">0.25</span>
<span class="n">bars1</span><span class="o">=</span><span class="n">stavebni</span><span class="p">[(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2000</span><span class="p">)]</span><span class="o">.</span><span class="n">nove_smlouvy</span>
<span class="n">bars2</span><span class="o">=</span><span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">nove_celkem</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="n">r</span> <span class="o">+</span> <span class="n">barWidth</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars1</span><span class="p">))],</span> \
         <span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">][</span><span class="s2">"rok"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]))</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars1</span><span class="p">))</span>
<span class="n">r2</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">barWidth</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span><span class="n">bars1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">"#7f5d5f"</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">1.3</span><span class="o">*</span><span class="n">barWidth</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">"stavební"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span><span class="n">bars2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">"#547f2d"</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">1.3</span><span class="o">*</span><span class="n">barWidth</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">"penzijní"</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">'white'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>




        <div class="output_png output_subarea ">
          <img src="data:image/png;base64,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
">
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[12]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="k">def</span> <span class="nf">print_corr</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">data2</span><span class="p">):</span> <span class="c1"># korelační koeficient</span>
  <span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">data2</span><span class="p">)[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">4</span><span class="p">))</span>

<span class="n">print_corr</span><span class="p">(</span><span class="n">stavebni</span><span class="p">[(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2000</span><span class="p">)]</span><span class="o">.</span><span class="n">nove_smlouvy</span><span class="p">,</span>\
         <span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">nove_celkem</span><span class="p">)</span>

<span class="n">print_corr</span><span class="p">(</span><span class="n">stavebni</span><span class="p">[(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2005</span><span class="p">)]</span><span class="o">.</span><span class="n">nove_smlouvy</span><span class="p">,</span>\
         <span class="n">penzijni</span><span class="p">[(</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2005</span><span class="p">)]</span><span class="o">.</span><span class="n">nove_celkem</span><span class="p">)</span>

<span class="n">print_corr</span><span class="p">(</span><span class="n">stavebni</span><span class="p">[(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2005</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">2011</span><span class="o">&gt;=</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="p">)]</span><span class="o">.</span><span class="n">nove_smlouvy</span><span class="p">,</span>\
         <span class="n">penzijni</span><span class="p">[(</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2005</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">2011</span><span class="o">&gt;=</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="p">)]</span><span class="o">.</span><span class="n">nove_celkem</span><span class="p">)</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>


        <div class="output_subarea output_stream output_stdout output_text">
          <pre>0.0384
0.3331
0.6814
</pre>
        </div>
      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Jak graf, tak následné korelační koeficienty ukazují, že v prvních pěti letech je vlivem zmíněné změně v legislativě mezi daty výrazný nesoulad. Pokud se období do první změny stavebního spoření vynechá, podobnost je značnější. Stále je zde však změna v penzijním spoření, která po roce 2011 tento trend znovu výrazně mění. Ve výsledku je tak největší soulad v období mezi změnami, tedy od roku 2005 do roku 2011. Toto období však není příliš dlouhé a reflektuje především reakci na jeden konkrétní popud v podobě Velké recese.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Posledním místem, které stojí za zkoumání, je období po všech zmíněných změnách. To má tu výhodu, že v tomto období již máme k dispozici čtvrtletní data.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[13]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">nove_celkem_v_obdobi</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">penzijni</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
      <span class="n">nove</span><span class="o">=</span><span class="n">penzijni</span><span class="o">.</span><span class="n">nove_celkem</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">elif</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="ow">in</span> <span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="p">[</span><span class="s2">"rok"</span><span class="p">]</span><span class="o">==</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="p">:</span>
      <span class="n">nove</span><span class="o">=</span><span class="n">penzijni</span><span class="o">.</span><span class="n">nove_celkem</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">penzijni</span><span class="o">.</span><span class="n">nove_celkem</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
  <span class="k">else</span><span class="p">:</span>
      <span class="n">nove</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">NaN</span>
  <span class="n">nove_celkem_v_obdobi</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nove</span><span class="p">)</span>
<span class="n">penzijni</span><span class="p">[</span><span class="s2">"nove_celkem_v_obdobi"</span><span class="p">]</span><span class="o">=</span><span class="n">nove_celkem_v_obdobi</span>

<span class="n">bars1</span><span class="o">=</span><span class="n">stavebni</span><span class="p">[</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">]</span><span class="o">.</span><span class="n">nove_smlouvy_v_obdobi</span>
<span class="n">bars2</span><span class="o">=</span><span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">]</span><span class="o">.</span><span class="n">nove_celkem_v_obdobi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="n">r</span> <span class="o">+</span> <span class="n">barWidth</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars1</span><span class="p">))],</span> \
         <span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">][</span><span class="s2">"ctvrtleti"</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]))</span>
<span class="n">r1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars1</span><span class="p">))</span>
<span class="n">r2</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">barWidth</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span><span class="n">bars1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">"#7f5d5f"</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">1.3</span><span class="o">*</span><span class="n">barWidth</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">"stavební"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">r2</span><span class="p">,</span><span class="n">bars2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">"#547f2d"</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">1.3</span><span class="o">*</span><span class="n">barWidth</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">"penzijní"</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">'white'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>




        <div class="output_png output_subarea ">
          <img src="data:image/png;base64,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
">
        </div>

      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[14]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="n">print_corr</span><span class="p">(</span><span class="n">bars1</span><span class="p">,</span><span class="n">bars2</span><span class="p">)</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>


        <div class="output_subarea output_stream output_stdout output_text">
          <pre>0.0344
</pre>
        </div>
      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Z grafu je patrné, že obě časové řady vykazují značně odlišné trendy. To dokazuje taktéž velmi nízký korelační koeficient. Jedním z trendů, který můžeme sledovat, je sezónnost v datech o stavebním spoření. Zkusíme tuto vlastnost kvantifikovat průměrem v rámci stejného kvartálu:</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing code_cell rendered">
  <div class="input">
    <div class="prompt input_prompt">In&nbsp;[15]:</div>
    <div class="inner_cell">
      <div class="input_area">
        <div class=" highlight hl-ipython3">
          <pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"stavební"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">stavebni</span><span class="p">[(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">stavebni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="n">i</span><span class="p">)][</span><span class="s2">"nove_smlouvy_v_obdobi"</span><span class="p">]),</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">stavebni</span><span class="p">[</span><span class="n">stavebni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">][</span><span class="s2">"nove_smlouvy_v_obdobi"</span><span class="p">]),</span><span class="mi">0</span><span class="p">))</span> <span class="c1"># směrodatná odchylka</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"penzijní"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
  <span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">penzijni</span><span class="p">[(</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">penzijni</span><span class="o">.</span><span class="n">ctvrtleti</span><span class="o">==</span><span class="n">i</span><span class="p">)][</span><span class="s2">"nove_celkem_v_obdobi"</span><span class="p">]),</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">penzijni</span><span class="p">[</span><span class="n">penzijni</span><span class="o">.</span><span class="n">rok</span><span class="o">&gt;=</span><span class="mi">2014</span><span class="p">][</span><span class="s2">"nove_celkem_v_obdobi"</span><span class="p">]),</span><span class="mi">0</span><span class="p">))</span>
</pre>
        </div>

      </div>
    </div>
  </div>

  <div class="output_wrapper">
    <div class="output">


      <div class="output_area">

        <div class="prompt"></div>


        <div class="output_subarea output_stream output_stdout output_text">
          <pre>stavební
118611.0
99549.0
82947.0
121827.0

25765.0

penzijní
55606.0
54738.0
50452.0
53535.0

12835.0
</pre>
        </div>
      </div>

    </div>
  </div>

</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Zde vidíme, že tato sezónnost, tedy inklinace k uzavírání nových smluv v prvním a posledním kvartálu, spíše než v kvartálech jiných, se zdá při srovnání se směrodatnou odchylkou významná. Naopak v případě dat o penzijním spoření jsou rozdíly zanedbatelné, z čehož můžeme usuzovat, že na uzavírání takovýchto smluv nemá část roku přílišný vliv.</p>

    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <h2 id="Závěr">Závěr<a class="anchor-link" href="#Závěr">¶</a></h2>
    </div>
  </div>
</div>
<div class="cell border-box-sizing text_cell rendered">
  <div class="prompt input_prompt">
  </div>
  <div class="inner_cell">
    <div class="text_cell_render border-box-sizing rendered_html">
      <p>Z tohoto jednoduchého pohledu je jasně vidět, že ačkoli se předpoklad obdobného vývoje penzijního a stavebního spoření zdá na první pohled rozumný, nedá se v tomto případě na tuto intuici zcela spoléhat. To proto, že vývoj obou časových řad je značně ovlivněn změnami v legislativě, které zafungovaly jako pohnutka k uzavření smluv o pojištění bezprostředně před datem jejich účinnosti, čímž narušily celkový vývoj obou veličin. Taktéž lze v datech o stavebním spoření zaznamenat trend uzavírání smluv v prvním a posledním čtvrtletí roku, který v datech o spoření penzijním přítomen není. Jako jediné období obdobného vývoje obou veličin se ukázaly roky před a v průběhu Velké recese, kde byl růst a následný pokles značně korelovaný.</p>
      <p>Zajisté by bylo možné takto nastíněný pohled dále rozšířit, významnost trendů otestovat za pomoci rigoróznějších postupů, či analýzu zlepšit užitím dalších datových zdrojů – to však již necháme na Vás, na uživatelích našich otevřených dat.</p>

    </div>
  </div>
</div>